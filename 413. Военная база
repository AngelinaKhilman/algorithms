(Время: 1 сек. Память: 16 Мб Сложность: 32%)
Со спутника-шпиона получено изображение в некотором волновом диапазоне сверхсекретной военной базы предполагаемого противника. База расположена на Антарктиде, все постройки на ней высечены из кубов льда и имеют на фотографии квадратную форму и не имеют общих фрагментов стен ненулевой длины (по всей видимости, это сделано в целях маскировки от локаторов, работающих в инфракрасном спектре). Благодаря мастерству операторов оказалось, что стены разных построек параллельны границам фотографии.

Для того, чтобы составить сверхсрочный отчет для командования, необходимо узнать, сколько зданий находятся на базе. Напишите программу, которая это сделает.

Входные данные
В первой строке входного файла INPUT.TXT записаны числа N и M (1 ≤ M, N ≤ 500) – размеры фотографии в пикселях по вертикали и по горизонтали. Следующие N строк содержат по M символов каждая: символ '.' соответствует пустому месту, '#' – элементу постройки.

Выходные данные
В выходной файл OUTPUT.TXT выведите единственное число – количество построек на базе.

def main():
    input_file = open("input.txt", "r")
    output_file = open("output.txt", "w")
    line = input_file.readline().split()
    n, m = int(line[0]), int(line[1])
    a = []
 
    ans = 0
    dx = [0, 0, 1, -1]
    dy = [1, -1, 0, 0]
    for i in range(n):
        line = input_file.readline().split()
        a.append(list(''.join(line)))
        print(a[i])
 
    for i in range(n):
        for j in range(m):
            if a[i][j] == "#":
                ans = ans + 1
                queue = []
                queue.append([i, j])
                head = 0
                tail = 1
                a[i][j] = "."
 
                while head < tail:
                    p = queue[head]
                    x, y = p[0], p[1]
 
                    for k in range(4):
                        x1 = x + dx[k]
                        y1 = y + dy[k]
                        if x1 >= 0 and x1 < n and y1 >= 0 and y1 < m and a[x1][y1] == "#":
                            queue.append([x1, y1])
                            a[x1][y1] = "."
                            tail = tail + 1
                    head = head + 1
 
    print(ans)
    output_file.write(str(ans) + '\n')
    input_file.close()
    output_file.close()
 
 
if __name__ == "__main__":
    main()
